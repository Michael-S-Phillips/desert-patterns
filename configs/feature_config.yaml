# Feature extraction configuration for desert patterned ground pipeline
# Phase 3: DINOv3 embeddings + classical texture descriptors + fusion

output_dir: "outputs/features"
feature_store: "outputs/features/feature_store.h5"
manifest_path: "data/processed/preprocessing_manifest.csv"

dino:
  model_name: "facebook/dinov3-vitb16-pretrain-lvd1689m"
  input_size: 518
  batch_size: 32
  extract_patch_tokens: false
  device: "auto"

texture:
  glcm:
    distances: [1, 3, 5, 10]
    angles: [0, 0.785, 1.571, 2.356]
    properties: ["contrast", "correlation", "energy", "homogeneity"]
    levels: 256
  gabor:
    frequencies: [0.05, 0.1, 0.2, 0.4]
    orientations: [0, 30, 60, 90, 120, 150]
  fractal:
    method: "box_counting"
    threshold: "otsu"
  lacunarity:
    box_sizes: [5, 10, 20, 40, 80]
  lbp:
    radii: [1]
    method: "uniform"
  global:
    compute_fft_dominant_freq: true
    edge_detector: "canny"

fusion:
  dino_weight: 0.7
  texture_weight: 0.3
  pca_variance_threshold: 0.95
  normalize: true
